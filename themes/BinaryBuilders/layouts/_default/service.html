{{ define "main" }}
<main class="page-content service-page">
  <!-- Page Header -->
  <div class="about-header">
    <div class="container">
      <h1 class="about-title"><span class="gradient-text">{{ .Title }}</span></h1>
      <p class="about-description">{{ .Description }}</p>
    </div>
  </div>

  <!-- Hero Image -->
  <div class="hero-image-wrapper">
    <div class="container desktop-only">
      <div class="about-hero-image">
        {{ with .Params.hero_image }}
        <img src="{{ . }}" alt="{{ $.Title }}" />
        {{ end }}
      </div>
    </div>
    <div class="mobile-only about-hero-image">
      {{ with .Params.hero_image }}
      <img src="{{ . }}" alt="{{ $.Title }}" />
      {{ end }}
    </div>
  </div>

  <!-- Overview Section -->
  <div class="container">
    <div class="about-content">
      {{ .Content }}
    </div>
  </div>

  <!-- Features Section -->
  {{ if .Params.features }}
  <section class="expertise-section">
    <div class="container">
      <h2>{{ .Params.features_title | default "Key Features" }}</h2>
      <div class="expertise-grid">
        {{ range .Params.features }}
        <div class="expertise-card">
          <div class="expertise-card__icon">{{ .icon }}</div>
          <h3>{{ .title }}</h3>
          <p>{{ .description }}</p>
        </div>
        {{ end }}
      </div>
    </div>
  </section>
  {{ end }}

  <!-- Benefits Section -->
  {{ if .Params.benefits }}
  <section class="values-section">
    <div class="container">
      <h2>Benefits</h2>
      <div class="values-list">
        <div class="values-nav">
          {{ range $index, $benefit := .Params.benefits }}
          <button class="value-item{{ if eq $index 0 }} active{{ end }}" data-value="{{ $index }}">
            <div class="value-icon">{{ .icon }}</div>
            <h3>{{ .title }}</h3>
          </button>
          {{ end }}
        </div>
        <div class="values-content">
          {{ range $index, $benefit := .Params.benefits }}
          <div class="value-content{{ if eq $index 0 }} active{{ end }}" data-value="{{ $index }}">
            <h3>{{ .title }}</h3>
            <p>{{ .description }}</p>
          </div>
          {{ end }}
        </div>
      </div>
    </div>
  </section>
  {{ end }}

  <!-- Supported Networks Section -->
  {{ if .Params.show_supported_networks }}
  {{ partial "supported-networks.html" . }}
  {{ end }}

  <!-- Testimonials Section -->
  {{ if .Params.testimonials }}
  <section class="testimonials-simple">
    <div class="container">
      <h2>What Our Partners Say</h2>
      <div class="testimonials-simple__grid">
        {{ range $index, $testimonial := .Params.testimonials }}
        <div class="testimonial-card">
          <pixel-hover 
            data-colors="{{ index (slice "#7B4DFF,#5435B4,#E464FF" "#4ECDC4,#3DA89F,#65E5DD" "#FF6B6B,#E65555,#FF8585") (mod $index 3) }}"
            data-gap="6"
            data-speed="30">
          </pixel-hover>
          <div class="testimonial-card__quote">{{ .quote }}</div>
          <div class="testimonial-card__author">
            <img src="/images/partners/{{ .logo }}.png" alt="{{ .name }} Logo" class="testimonial-card__avatar">
            <div class="testimonial-card__name">{{ .name }}</div>
          </div>
        </div>
        {{ end }}
      </div>
    </div>
  </section>
  {{ end }}

  <!-- Call to Action -->
  <section class="join-section">
    <div class="container">
      <h2>Get Started</h2>
      <p class="join-intro">{{ .Params.cta_description }}</p>
      <div class="join-buttons">
        {{ with .Params.primary_cta }}
        <a href="{{ .url }}" class="button button--primary" target="_blank" rel="noopener">
          {{ .text }} <span class="button__arrow">→</span>
        </a>
        {{ end }}
        {{ with .Params.secondary_cta }}
        <a href="{{ .url }}" class="button button--secondary">
          {{ .text }} <span class="button__arrow">→</span>
        </a>
        {{ end }}
      </div>
    </div>
  </section>
</main>

<!-- Add values.js script for benefits section -->
{{ if .Params.benefits }}
{{ $values := resources.Get "js/values.js" | js.Build }}
<script src="{{ $values.RelPermalink }}"></script>
{{ end }}
{{ end }} 