(()=>{var e=()=>{const e=document.getElementById("menu-toggle"),t=document.getElementById("mobile-menu");if(!e||!t)return;e.addEventListener("click",()=>{const n=e.getAttribute("aria-expanded")==="true";e.setAttribute("aria-expanded",!n),t.classList.toggle("is-active"),document.body.classList.toggle("menu-open")}),document.addEventListener("click",n=>{t.classList.contains("is-active")&&!t.contains(n.target)&&!e.contains(n.target)&&(e.setAttribute("aria-expanded","false"),t.classList.remove("is-active"),document.body.classList.remove("menu-open"))}),document.addEventListener("keydown",n=>{n.key==="Escape"&&t.classList.contains("is-active")&&(e.setAttribute("aria-expanded","false"),t.classList.remove("is-active"),document.body.classList.remove("menu-open"))})},t=()=>{const t=document.getElementById("search-toggle"),e=document.getElementById("search-modal"),s=document.getElementById("search-input"),o=document.getElementById("search-results");if(!t||!e||!s||!o)return;t.addEventListener("click",()=>{const n=t.getAttribute("aria-expanded")==="true";t.setAttribute("aria-expanded",!n),e.classList.toggle("is-active"),n?document.body.classList.remove("search-open"):(s.focus(),document.body.classList.add("search-open"))}),e.addEventListener("click",n=>{n.target===e&&(t.setAttribute("aria-expanded","false"),e.classList.remove("is-active"),document.body.classList.remove("search-open"))}),document.addEventListener("keydown",n=>{n.key==="Escape"&&e.classList.contains("is-active")&&(t.setAttribute("aria-expanded","false"),e.classList.remove("is-active"),document.body.classList.remove("search-open"))});let i;s.addEventListener("input",e=>{clearTimeout(i),i=setTimeout(()=>{const t=e.target.value.trim();if(t.length<2){o.innerHTML="";return}n(t)},300)})};async function n(e){const t=document.getElementById("search-results");t.innerHTML='<div class="search-loading">Searching...</div>';try{const s=await fetch(`/search.json`),o=await s.json(),n=o.filter(t=>{const n=`${t.title} ${t.content}`.toLowerCase();return n.includes(e.toLowerCase())});if(n.length===0){t.innerHTML='<div class="search-no-results">No results found</div>';return}const i=n.map(e=>`
      <article class="search-result">
        <h3><a href="${e.permalink}">${e.title}</a></h3>
        <div class="search-result-excerpt">${e.summary}</div>
      </article>
    `).join("");t.innerHTML=i}catch(e){console.error("Search error:",e),t.innerHTML='<div class="search-error">An error occurred while searching</div>'}}document.addEventListener("DOMContentLoaded",()=>{e(),window.siteConfig.features.search&&t(),window.siteConfig.features.newsletter&&(void 0)();const s=document.querySelectorAll("[data-animate]"),n=new IntersectionObserver(e=>{e.forEach(e=>{e.isIntersecting&&(e.target.classList.add("animated"),n.unobserve(e.target))})},{threshold:.1});s.forEach(e=>n.observe(e))})})()